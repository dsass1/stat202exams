---
title: "Exam 1"
tutorial:
  id: "isds_exam1"
  version: 0.1

  
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
    css: ["css/nu-theme.css"]
runtime: shiny_prerendered
description: >
  This proficiency exam covers Preface - Chapter 4.
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(ISDStutorials)
library(gradethis)
library(skimr)

library(stat202exams)
#conflicted::conflict_prefer_all("stat202exams", "learnr")
conflicted::conflict_prefer_all("stat202exams", "ISDStutorials")

knitr::opts_chunk$set(echo = FALSE)
gradethis_setup()
options(tutorial.event_recorder = ISDStutorials::isds_recorder)

survey <- read_rds("data/midterm_data.rds")
```



```{r isds-header}
# student name
question_blank("Name: ___",
                            answer_fn(function(value){
                              if (length(value) >= 1 ) {
                                return(mark_as(TRUE))
                                }
                              return(mark_as(FALSE) )
                              }),
          style = "notes_question",
          correct = paste0(fontawesome::fa("check") ),
          incorrect = paste0(fontawesome::fa("xmark") ),
          allow_retry = FALSE )
# have name, grade button, and print button on same line
bootstrapPage(
     div(style="display:inline-block", print_ui("Print") )
)
```


## Instructions

You have 50 minutes to complete this exam. The exam covers the material learned from Preface - Chapter 4 and is open note, open book.

Once you are finished:

-   Make sure every question/exercise has been submitted.
-   Click the 'pdf' button to save the document as a pdf, you must have the exam open in a browser window for this button to work.
-   Submit the completed pdf to Canvas.


## Concept

```{r Q}
#reading check 2
quiz(
  caption = NULL,
  #Q1
  question_multidrop(
  "The following code is in a code chunk: $\\quad 3+4 \\; != 7$",
  choices = c("What is the output?"),
  wordbank = c("7", "TRUE", "FALSE", "NA", "Error", "0"),
  answer(c("FALSE"), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_blank(
    "In a typical dataframe, rows correspond to ___.",
    answer(c("observations"), correct = TRUE),
    allow_retry = TRUE,
    incorrect = "submitted"
  ),
  question_multidrop(
  "Which of the following shows the relationship between one numerical variable and one categorical variable?",
  choices = c(""),
  wordbank = c("barplot", "histogram", "stacked barplot", "side-by-side boxplot", "scatterplot"),
  answer(c("side-by-side boxplot"), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_multidrop(
  "The table provides the first 8 observations from a sample of 200 individuals, who reported their age, race, income, and job satisfaction score on a scale from 0 to 100.",
  box = 4,
  choices = c("Which type of graphic would be most useful for visualizing the relationship between `Income` and `Score`?",
              "Which type of graphic would be most useful for visualizing the relationship between `Age` and `Race`?"),
  wordbank = c("histogram", "scatterplot", "linegraph", "side-by-side boxplot", "stacked barplots"),
  answer(c("scatterplot", "stacked barplots"), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_multidrop(
  "The histogram below shows the distribution of a large company's annual employee income. Which of the following statements is TRUE concerning this distribution?",
  box = 11,
  choices = c(""),
  wordbank = c("The distribution is skewed left and the mean is less than the median.",
              "The distribution is skewed right and the mean is less than the median.",
              "The distribution is skewed left and the mean is greater than the median.",
              "The distribution is skewed right and the mean is greater than the median.",
              "The distribution is symmetric and the mean is equal to the median."),
  answer(c("The distribution is skewed right and the mean is greater than the median."), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_multidrop(
  "Consider the histogram from the previous problem.",
  box = 2,
  choices = c("How would the average Employee Income change if the person with the lowest income got a $5,000 pay cut?",
              "How would the IQR (Interquartile Range) of Employee Income change if the person with the lowest income got a $5,000 pay cut?"),
  wordbank = c("Increase","Decrease", "Stay the same"),
  answer(c("Decrease", "Stay the same"), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_multidrop(
  "For each of the statistics indicate which of the four choices is correct.",
  box = 4,
  arrange = "ordered",
  choices = c("Mean", "Maximum", "Standard Deviation"),
  wordbank = c("a) Measure of Centrality/Center","b) Measure of Variability/Spread", "c) Both A and B", "d) Neither A nor B"),
  answer(c("a) Measure of Centrality/Center", "d) Neither A nor B", "b) Measure of Variability/Spread"), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_multidrop(
  "Match each task with the appropriate function/verb that will accomplish it.",
  box = 4,
  arrange = "ordered",
  choices = c("create a new variable", "keep only observations that meet a criteria", "compute the mean of a variable"),
  wordbank = c("top_n()", "count()", "mutate()", "group_by()", "filter()", "select()", "summarize()", "arrange()"),
  answer(c("mutate()", "filter()", "summarize()"), correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  ),
  question_multidrop(
  "Suppose we have a dataset (some data) and we want to remove invalid data entries for one of the numerical variables and then proceed to calculate the median for that variable per level/category for a categorical variable. Which general sequence of functions/verbs would achieve this?",
  box = 11,
  choices = c(""),
  wordbank = c("some data %>% filter() %>% group_by() %>% summarize()",
               "some data %>% filter() %>% count()",
               "some data %>% select() %>% group_by() %>% summarize()",
               "some data %>% select() %>% count()",
               "some data %>% arrange() %>% group_by() %>% summarize()",
               "some data %>% arrange() %>% count()"), 
  answer(c("some data %>% filter() %>% group_by() %>% summarize()"),correct = TRUE),
  allow_retry = TRUE,
  incorrect = "submitted"
  )
  
)

```


<!-- question_wordbank(paste("Q3) Drag and drop the variables to match the aesthetics they are mapped onto in Figure 2.1", htmltools::img(src="images/Figure_02_1.png", height = 400, width = 700) ), -->
<!--           choices = c("x"), -->
<!--           wordbank = c("GDP per Capita"), -->
<!--           answer(c("GDP per Capita"), correct = TRUE),  -->
<!--         allow_retry = TRUE, -->
<!--         incorrect = "submitted") -->

## Application

The following applications use the `survey` dataset which has been preloaded for you. This contains the responses to the questions you answered on day 1 of class.

```{r}
skim(survey)
```

### Application 1

Construct a scatterplot of `salary` by `height_inches`. Set the `color` equal to `gender_ident`.

```{r App1, exercise=TRUE}

```

Describe the relationship and answer whether or not you are surprised by the relationship.

```{r App1-desc}
question_text("", incorrect = "submitted",
              answer("ManuallyGradedEverythingWrong", 
                     correct = TRUE),
              allow_retry = TRUE,
              rows = 5)
```

### Application 2

Let's determine if happier people or sad people go to more parties.
Consider only the `fall 2022` quarter. Compute the average `num_party` by `happy`. Print the results in descending order (high to low).

```{r App2, exercise=TRUE}

```


### Application 3

Construct a histogram of `num_followers` using the `survey` dataset. Choose an appropriate number of bins and change the border color to "red".

```{r App3, exercise=TRUE}
ggplot(data = survey, mapping = aes(x = )) +

```

Compute any appropriate summary statistics that will help in the description of the plot.

```{r App3-calc, exercise=TRUE}

```

Describe the histogram, including the center, spread, and shape.

```{r App3-describe}
question_text("", incorrect = "submitted",
              answer("ManuallyGradedEverythingWrong", 
                     correct = TRUE),
              allow_retry = TRUE,
              rows = 5)
```


## Bonus

The first day of class you were introduced to AHA slides. Which of the following were FALSE?